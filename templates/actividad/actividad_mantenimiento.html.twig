{% extends "layout_app.html.twig" %}
{% block contenido_app %}
<div id="page-wrapper">
  <div class="row">
    <div class="col-lg-12">
      <h1 class="page-header">Nuevo Mantenimiento</h1>
    </div>
    <!-- /.col-lg-12 -->
  </div>
  <!-- /.row -->

{# MANTENIMIENTO #}
  <div class="row">
    <div class="col-lg-12">
      <div class="panel panel-default">
        <div class="panel-heading">
          Mantenimiento
        </div>
        <div class="panel-body">
          <div class="row">
            <div class="col-lg-6">
              <form role="form" action="" method="post">
{# NOMBRE #}
                <div class="form-group">
                  <label>Nombre</label>
                  <input required id="nombre-empresa" name="nombre-empresa" class="form-control" type="text"   maxlength="20">
                  <p class="help-block">Introduzca el nombre del Mantenimiento.</p>
                </div>
{# /NOMBRE #}
                <button type="submit" class="btn btn-primary">Guardar</button>
              </form>
            </div>
            <!-- /.col-lg-6 -->
          </div>
          <!-- /.row (nested) -->
        </div>
        <!-- /.panel-body -->
      </div>
      <!-- /.panel -->
    </div>
    <!-- /.col-lg-12 -->
  </div>
  <!-- /.row -->


{# LISTA DE ACTIVIDADES #}
<div class="row">
  <div class="col-lg-12">
  <div class="panel panel-default">
    <!-- Default panel contents -->
    <div class="panel-heading">Agregar Actividades</div>
    <div class="panel-body">
    {# NOMBRE ACTIVIDAD #}
                    <div class="form-group">
                      <label>Nombre</label>
                      <input required id="nombre-actividad" name="nombre-actividad" class="form-control" type="text"   maxlength="50">
                      <input  id="numero-actividad" name="nombre-actividad" type="hidden" value="1">
                    </div>
    {# /NOMBRE ACTIVIDAD #}
    {# AYUDA ACTIVIDAD #}
                    <div class="form-group">
                      <label>Ayuda</label>
                      <textarea id="ayuda-actividad" name="ayuda-actividad" class="form-control" rows="3"></textarea>
                    </div>
    {# /AYUDA ACTIVIDAD #}
    {# EXAMINAR #}
    <div class="form-group">
        <label>Agregar Procedimiento</label>
        <input type="file">
    </div>
    {# EXAMINAR #}
                    <button type="submit" class="btn btn-primary" onclick="Agrega()">Agregar</button>
    </div>

    <!-- List group -->
    <ul class="list-group" id="aqui">


    </ul>
  </div>
  </div>
  <!-- /.col-lg-12 -->
</div>
<!-- /.row -->
 {# LISTA DE ACTIVIDADES #}


</div>
<!-- /#page-wrapper -->

<script type="text/javascript">

function Agrega(){

    var $num = $("#numero-actividad").val();
    var $actividadNum = 'actividad'+$num;

    var $actividad= $('#nombre-actividad').val();

    var $nuevoElemento = $('\
    <li class="list-group-item" id="'+$actividadNum+'">\
      <div class="row">\
        <div class="col-lg-12">\
          <div class="form-group col-md-2"  >\
              <p class="form-control-static" id="item" >'+$num+'</p>\
            </div>\
            <div class="form-group col-md-6">\
              <p class="form-control-static">'+$actividad+'</p>\
            </div>\
            <div class="form-group col-md-4">\
              <a href="#" class="btn btn-info btn-sm active" role="button">\
                Ayuda <span class="fa fa-question" aria-hidden="true"></span>\
              </a>\
              <a href="" class="btn btn-warning btn-sm active" role="button">\
                Procedimiento <span class="fa fa-file-pdf-o" aria-hidden="true"></span>\
              </a>\
              <a href="#" class="btn btn-danger btn-sm active" role="button" onclick="Eliminar('+$actividadNum+')" >\
                Eliminar<span class="fa fa-times" aria-hidden="true" ></span>\
              </a>\
            </div>\
          </div>\
        </div>\
      </div>\
    </li>\
    ');

    $nuevoElemento.appendTo('#aqui');

    $("#numero-actividad").val(++$num);
    $("#nombre-actividad").val('');

}

var Eliminar = function(boton){
  $(boton).remove();

  var $i=1;
  $('#aqui #item').each(function(idx, el ) {
     $(el).html($i++);
  });

  $("#numero-actividad").val($i);
}

</script>

{% endblock %}
